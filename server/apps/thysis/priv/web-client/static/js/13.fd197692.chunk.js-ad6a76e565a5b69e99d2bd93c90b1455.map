{"version":3,"sources":["utils/main-content-centered-style.util.ts","graphql/text-search-row.fragment.ts","graphql/text-search-result.fragment.ts","graphql/text-search.query.ts","components/SearchComponent/styles.tsx","containers/error-boundary.container.tsx","components/SearchComponent/component.tsx","state/search-component-state.local.mutation.ts","state/search-component-state.local.query.ts","components/SearchComponent/index.ts","../node_modules/lodash-es/now.js","../node_modules/lodash-es/toNumber.js","../node_modules/lodash-es/debounce.js","routes/SearchQuotes/styles.tsx","routes/SearchQuotes/route.tsx","routes/SearchQuotes/index.ts"],"names":["__webpack_exports__","flex","overflowX","overflowY","padding","textSearchRowFrag","gql","_templateObject","textSearchResultFrag","text_search_result_fragment_templateObject","textSearchQuery","text_search_query_templateObject","jss","setup","preset","styles","root","ROOT_CONTAINER_STYLE","input","margin","mainContent","Object","objectSpread","mainContentStyle","resultContainer","wordBreak","result","marginTop","&.first-of-type","& .ui.list>a.item","color","resultRowHeaderContainer","textAlign","resultRowHeader","display","minWidth","boxShadow","resultRowItem","borderTop","borderBottom","classes","createStyleSheet","attach","ErrorBoundary","_React$Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","hasError","inherits","createClass","key","value","error","info","setState","react","Message","icon","style","className","Icon","name","Content","Header","marginBottom","JSON","stringify","children","React","RENDER_ROW_PROPS","SOURCES","makeSourceURL","TAGS","makeTagURL","QUOTES","makeQuoteURL","AUTHORS","makeAuthorRouteURL","initialState","searchText","searchLoading","SearchQuotesComponent","doSearchDebounced","onSearchInputChange","e","_ref","undefined","searchError","doSearch","asyncToGenerator","regenerator_default","a","mark","_callee","data","quoteFullSearch","wrap","_context","prev","next","trim","length","abrupt","client","query","ALL_MATCHING_TEXT_QUERY","variables","text","sent","t0","stop","renderResult","_ref3","quotes","tags","authors","sources","sourceTypes","react_default","createElement","map","renderCategory","warning","size","fitted","fontSize","data0","header","source","List","divided","renderRow","tid","column","rowProps","otherProps","as","NavLink","to","toString","Item","assign","debounce","nextProps","searchComponentState","updateSCSLocal","cancel","Input","placeholder","fluid","autoFocus","onChange","loading","error_boundary_container","Component","mutationOps","search_component_state_local_mutation_templateObject","sCSLMutationGql","graphql","mutate","queryOps","search_component_state_local_query_templateObject","scslGql","SCSL_QUERY","compose","withApollo","SearchQuotes","lodash_es_now","_root","Date","now","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","lodash_es_toNumber","isSymbol","isObject","other","valueOf","replace","isBinary","test","slice","FUNC_ERROR_TEXT","nativeMax","Math","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","arguments","leadingEdge","clearTimeout","flush","setTitle","AppSidebar","title","showSideBarTrigger","SearchComponent"],"mappings":"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","file":"static/js/13.fd197692.chunk.js","sourcesContent":["export default {\n  flex: 1,\n  overflowX: \"hidden\",\n  overflowY: \"auto\",\n  padding: \"0 5px\"\n};\n","import gql from \"graphql-tag\";\n\nexport const textSearchRowFrag = gql`\n  fragment TextSearchRowFrag on QuoteFullSearchResultRow {\n    tid\n    text\n    source\n    column\n  }\n`;\n\nexport default textSearchRowFrag;\n","import gql from \"graphql-tag\";\n\nimport textSearchRowFrag from \"./text-search-row.fragment\";\n\nexport const textSearchResultFrag = gql`\n  fragment TextSearchResultFrag on QuoteFullSearchResult {\n    quotes {\n      ...TextSearchRowFrag\n    }\n\n    sources {\n      ...TextSearchRowFrag\n    }\n\n    tags {\n      ...TextSearchRowFrag\n    }\n\n    authors {\n      ...TextSearchRowFrag\n    }\n\n    sourceTypes {\n      ...TextSearchRowFrag\n    }\n  }\n\n  ${textSearchRowFrag}\n`;\n\nexport default textSearchResultFrag;\n","import gql from \"graphql-tag\";\n\nimport textSearchResultFrag from \"./text-search-result.fragment\";\n\nexport const textSearchQuery = gql`\n  query AllMatchingTexts($text: QuoteFullSearchInput!) {\n    quoteFullSearch(text: $text) {\n      ...TextSearchResultFrag\n    }\n  }\n\n  ${textSearchResultFrag}\n`;\n\nexport default textSearchQuery;\n","import jss from \"jss\";\nimport preset from \"jss-preset-default\";\n\nimport { ROOT_CONTAINER_STYLE } from \"../../constants\";\nimport { SimpleCss } from \"../../constants\";\nimport mainContentStyle from \"../../utils/main-content-centered-style.util\";\n\njss.setup(preset());\n\nconst resultRowItemStyle = {\n  borderTop: [\"none\", \"!important;\"]\n  // tslint:disable-next-line:no-any\n} as any;\n\nexport const styles = {\n  root: ROOT_CONTAINER_STYLE,\n\n  input: {\n    margin: \"0 5px\"\n  },\n\n  mainContent: {\n    ...mainContentStyle,\n    margin: \"5px 3px 0 0\"\n  },\n\n  resultContainer: {\n    margin: \"0\",\n    overflowY: \"auto\",\n    wordBreak: \"break-all\"\n  },\n\n  result: {\n    marginTop: \"15px;\",\n    \"&.first-of-type\": {\n      marginTop: \"0;\"\n    },\n    \"& .ui.list>a.item\": {\n      color: \"initial\"\n    }\n  },\n\n  resultRowHeaderContainer: {\n    textAlign: \"center\"\n  },\n\n  resultRowHeader: {\n    display: \"inline-block\",\n    minWidth: \"40%\",\n    boxShadow: \"0 1px 1px -1px black;\"\n  },\n\n  resultRowItem: {\n    ...resultRowItemStyle,\n    borderBottom: \"1px solid #22242626\",\n    marginTop: 8\n  }\n} as SimpleCss;\n\nexport default styles;\n\nexport const { classes } = jss.createStyleSheet(styles).attach();\n","import * as React from \"react\";\nimport { Message } from \"semantic-ui-react\";\nimport { Icon } from \"semantic-ui-react\";\n\ninterface ErrorBoundaryProps {\n  className?: string;\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  info?: React.ErrorInfo;\n}\n\nexport class ErrorBoundary extends React.Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  state: ErrorBoundaryState = { hasError: false };\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n  }\n\n  componentDidCatch(error: Error, info: React.ErrorInfo) {\n    // Display fallback UI\n    this.setState({ hasError: true });\n    // You can also log the error to an error reporting service\n    // logErrorToMyService(error, info);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <Message\n          error={true}\n          icon={true}\n          style={{\n            marginTop: \"20px\"\n          }}\n          className={this.props.className || \"\"}\n        >\n          <Icon name=\"ban\" />\n\n          <Message.Content>\n            <Message.Header\n              style={{\n                borderBottom: \"1px solid\",\n                display: \"inline-block\",\n                marginBottom: \"10px\"\n              }}\n            >\n              An error has occurred\n            </Message.Header>\n            <div>{JSON.stringify(this.state.info, null, 2)}</div>\n          </Message.Content>\n        </Message>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React from \"react\";\nimport { Cancelable } from \"lodash\";\nimport debounce from \"lodash-es/debounce\";\nimport { Input } from \"semantic-ui-react\";\nimport { List } from \"semantic-ui-react\";\nimport { Message } from \"semantic-ui-react\";\nimport { Icon } from \"semantic-ui-react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport {\n  AllMatchingTexts,\n  AllMatchingTextsVariables\n} from \"../../graphql/gen.types\";\nimport { AllMatchingTexts_quoteFullSearch } from \"../../graphql/gen.types\";\nimport { State } from \"./search-component\";\nimport { Props } from \"./search-component\";\nimport ALL_MATCHING_TEXT_QUERY from \"../../graphql/text-search.query\";\nimport { classes } from \"./styles\";\nimport ErrorBoundary from \"../../containers/error-boundary.container\";\nimport { SemanticOnInputChangeFunc } from \"../../utils\";\nimport { TextSearchResultFrag } from \"../../graphql/gen.types\";\nimport { TextSearchRowFrag } from \"../../graphql/gen.types\";\nimport { makeSourceURL } from \"../../routes/util\";\nimport { makeTagURL } from \"../../routes/util\";\nimport { makeQuoteURL } from \"../../routes/util\";\nimport { makeAuthorRouteURL } from \"../../routes/util\";\n\nconst RENDER_ROW_PROPS = {\n  SOURCES: makeSourceURL,\n  TAGS: makeTagURL,\n  QUOTES: makeQuoteURL,\n  AUTHORS: makeAuthorRouteURL\n};\n\nconst initialState = {\n  searchText: \"\",\n  searchLoading: false\n};\n\nexport class SearchQuotesComponent extends React.Component<Props, State> {\n  static getDerivedStateFromProps(nextProps: Props, state: State) {\n    const { searchComponentState } = nextProps;\n    if (searchComponentState && state === initialState) {\n      return searchComponentState;\n    }\n\n    return null;\n  }\n\n  state: State = initialState;\n\n  doSearchDebounced: (() => void) & Cancelable;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.doSearchDebounced = debounce(this.doSearch, 700);\n  }\n\n  componentWillUnmount() {\n    this.props.updateSCSLocal({\n      variables: {\n        searchComponentState: this.state\n      }\n    });\n    this.doSearchDebounced.cancel();\n  }\n\n  render() {\n    return (\n      <div className={classes.root}>\n        <form>\n          <Input\n            className={classes.input}\n            icon=\"search\"\n            placeholder=\"Search...\"\n            fluid={true}\n            autoFocus={true}\n            onChange={this.onSearchInputChange}\n            value={this.state.searchText}\n            loading={this.state.searchLoading}\n          />\n        </form>\n\n        <ErrorBoundary className={classes.mainContent}>\n          <div className={classes.mainContent}>\n            {this.state.searchError && (\n              <Message\n                error={true}\n                icon={true}\n                style={{\n                  marginTop: \"20px\"\n                }}\n              >\n                <Icon name=\"ban\" />\n\n                <Message.Content>\n                  <Message.Header\n                    style={{\n                      borderBottom: \"1px solid\",\n                      display: \"inline-block\",\n                      marginBottom: \"10px\"\n                    }}\n                  >\n                    An error has occurred\n                  </Message.Header>\n                  <div>{JSON.stringify(this.state.searchError, null, 2)}</div>\n                </Message.Content>\n              </Message>\n            )}\n\n            {!this.state.searchError &&\n              this.state.searchText &&\n              this.state.result &&\n              this.renderResult(this.state.result)}\n          </div>\n        </ErrorBoundary>\n      </div>\n    );\n  }\n\n  onSearchInputChange: SemanticOnInputChangeFunc = (e, { value }) => {\n    // if user is pressing backspace or clearing texts in any other way, when\n    // the text input is clear, we clear search results. This fixes the bug\n    // where after user clears input and then begins typing again, we render the\n    // stale search result before hitting network\n    let { result } = this.state;\n    result = value ? result : undefined;\n    this.setState({\n      searchText: value,\n      searchError: undefined,\n      result\n    });\n\n    this.doSearchDebounced();\n  };\n\n  doSearch = async () => {\n    const searchText = this.state.searchText.trim();\n\n    if (searchText.length < 2) {\n      return;\n    }\n\n    this.setState({ searchLoading: true });\n\n    try {\n      const result = await this.props.client.query<\n        AllMatchingTexts,\n        AllMatchingTextsVariables\n      >({\n        query: ALL_MATCHING_TEXT_QUERY,\n        variables: {\n          text: {\n            text: searchText\n          }\n        }\n      });\n\n      const data = result.data;\n\n      if (!data) {\n        return;\n      }\n\n      const quoteFullSearch = data.quoteFullSearch as AllMatchingTexts_quoteFullSearch;\n\n      this.setState({ searchLoading: false, result: quoteFullSearch });\n    } catch (error) {\n      this.setState({ searchLoading: false, searchError: error });\n    }\n  };\n\n  renderResult = ({\n    quotes,\n    tags,\n    authors,\n    sources,\n    sourceTypes\n  }: TextSearchResultFrag) => {\n    return authors || quotes || sources || sourceTypes || tags ? (\n      <div className={classes.resultContainer}>\n        {[quotes, tags, authors, sources, sourceTypes].map(this.renderCategory)}\n      </div>\n    ) : (\n      <Message\n        className={classes.resultContainer}\n        style={{ textAlign: \"center\", padding: \"10px\" }}\n        icon={true}\n        warning={true}\n        size=\"small\"\n      >\n        <Icon\n          name=\"warning\"\n          size=\"tiny\"\n          fitted={true}\n          style={{ fontSize: \"2em\" }}\n        />\n        <Message.Content>No Result!</Message.Content>\n      </Message>\n    );\n  };\n\n  renderCategory = (data: Array<TextSearchRowFrag | null> | null) => {\n    if (!data) {\n      return;\n    }\n\n    const data0 = data[0];\n\n    if (!data0) {\n      return;\n    }\n\n    const header = data0.source;\n\n    return (\n      <div className={classes.result} key={header}>\n        <div className={classes.resultRowHeaderContainer}>\n          <span className={classes.resultRowHeader}>{header}</span>\n        </div>\n\n        <List divided={true}>{data.map(this.renderRow(header))}</List>\n      </div>\n    );\n  };\n\n  renderRow = (header: string) => (data: TextSearchRowFrag | null) => {\n    if (!data) {\n      return undefined;\n    }\n\n    const { text, tid, column } = data;\n\n    const rowProps = RENDER_ROW_PROPS[header];\n    const otherProps = rowProps\n      ? {\n          as: NavLink,\n          to: rowProps(tid.toString())\n        }\n      : {};\n\n    return (\n      <List.Item\n        key={tid + column}\n        className={classes.resultRowItem}\n        {...otherProps}\n      >\n        <List.Content>{text}</List.Content>\n      </List.Item>\n    );\n  };\n}\n\nexport default SearchQuotesComponent;\n","import gql from \"graphql-tag\";\nimport { graphql } from \"react-apollo\";\nimport { MutationFn } from \"react-apollo\";\n\nimport { State } from \"../components/SearchComponent/search-component\";\n\nexport const mutationOps = gql`\n  mutation SearchComponentStateLocalMutation(\n    $searchComponentState: SearchLocalInput!\n  ) {\n    searchComponentState(searchComponentState: $searchComponentState) @client\n  }\n`;\n\nexport default mutationOps;\n\ninterface Variable {\n  searchComponentState: State;\n}\n\ntype Fn = MutationFn<void, Variable>;\n\nexport interface SCSLMutateProps {\n  updateSCSLocal: Fn;\n}\n\nexport const sCSLMutationGql = graphql<{}, void, Variable, SCSLMutateProps>(\n  mutationOps,\n  {\n    props: props => {\n      const mutate = props.mutate as Fn;\n\n      return {\n        updateSCSLocal: mutate\n      };\n    }\n  }\n);\n","import gql from \"graphql-tag\";\nimport { DataValue } from \"react-apollo\";\n\nimport { State } from \"../components/SearchComponent/search-component\";\nimport { textSearchResultFrag } from \"../graphql/text-search-result.fragment\";\n\nexport const queryOps = gql`\n  query SearchComponentStateLocalQuery {\n    searchComponentState @client {\n      searchText\n      searchLoading\n      result {\n        ...TextSearchResultFrag\n      }\n      searchError\n    }\n  }\n\n  ${textSearchResultFrag}\n`;\n\nexport default queryOps;\n\nexport interface SCSLData {\n  searchComponentState?: State | null;\n}\n\nexport type SCSLQueryProps = DataValue<SCSLData>;\n","import { withApollo, compose, graphql } from \"react-apollo\";\n\nimport SearchQuotes from \"./component\";\nimport { OwnProps } from \"./search-component\";\nimport { sCSLMutationGql } from \"../../state/search-component-state.local.mutation\";\nimport SCSL_QUERY, {\n  SCSLQueryProps,\n  SCSLData\n} from \"../../state/search-component-state.local.query\";\n\nconst scslGql = graphql<OwnProps, SCSLData, {}, SCSLQueryProps | undefined>(\n  SCSL_QUERY,\n  {\n    props: props => props.data\n  }\n);\n\nexport default compose(\n  withApollo,\n  scslGql,\n  sCSLMutationGql\n)(SearchQuotes);\n","import root from './_root.js';\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function now() {\n  return root.Date.now();\n};\n\nexport default now;","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nexport default toNumber;","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n/** Error message constants. */\n\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;","import jss from \"jss\";\nimport preset from \"jss-preset-default\";\n\nimport { ROOT_CONTAINER_STYLE } from \"../../constants\";\nimport { SimpleCss } from \"../../constants\";\nimport mainContentStyle from \"../../utils/main-content-centered-style.util\";\n\njss.setup(preset());\n\nconst resultRowItemStyle = {\n  borderTop: [\"none\", \"!important;\"]\n  // tslint:disable-next-line:no-any\n} as any;\n\nexport const styles = {\n  root: ROOT_CONTAINER_STYLE,\n\n  input: {\n    margin: \"0 5px\"\n  },\n\n  mainContent: {\n    ...mainContentStyle,\n    margin: \"5px 3px 0 0\"\n  },\n\n  resultContainer: {\n    margin: \"0\",\n    overflowY: \"auto\",\n    wordBreak: \"break-all\"\n  },\n\n  result: {\n    marginTop: \"15px;\",\n    \"&.first-of-type\": {\n      marginTop: \"0;\"\n    }\n  },\n\n  resultRowHeaderContainer: {\n    textAlign: \"center\"\n  },\n\n  resultRowHeader: {\n    display: \"inline-block\",\n    minWidth: \"40%\",\n    boxShadow: \"0 1px 1px -1px black;\"\n  },\n\n  resultRowItem: {\n    ...resultRowItemStyle,\n    borderBottom: \"1px solid #22242626\",\n    marginTop: 8\n  }\n} as SimpleCss;\n\nexport default styles\n\nexport const { classes } = jss.createStyleSheet(styles).attach();\n","import * as React from \"react\";\n\nimport RootHeader from \"../../components/Header\";\nimport { setTitle } from \"../../routes/util\";\nimport { classes } from \"./styles\";\nimport SearchQuotesComponent from \"../../components/SearchComponent\";\nimport AppSideBar from \"../../components/AppSidebar\";\n\nexport class SearchQuotes extends React.Component {\n  componentDidMount() {\n    setTitle(\"Search all\");\n  }\n\n  componentWillUnmount() {\n    setTitle();\n  }\n\n  render() {\n    return (\n      <AppSideBar>\n        <div className={classes.root}>\n          <RootHeader title=\"Search\" showSideBarTrigger={true} />\n\n          <SearchQuotesComponent />\n        </div>\n      </AppSideBar>\n    );\n  }\n}\n\nexport default SearchQuotes;\n","import SearchQuotes from \"./route\";\n\nexport default SearchQuotes;\n"],"sourceRoot":""}