(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{377:function(e,t,n){"use strict";t.a={flex:1,overflowX:"hidden",overflowY:"auto",padding:"0 5px"}},397:function(e,t,n){"use strict";var a=n(23),r=n(10),o=n.n(r),c=n(15),i=n(64),s=n(66),u=n(65),l=n(68),m=n(67),h=n(0),p=n.n(h),d=n(398),f=n(613),v=n(619),b=n(624),x=n(400),S=n(633),g=n(7),O=n(8),y=n.n(O);function E(){var e=Object(g.a)(["\n  fragment TextSearchRowFrag on QuoteFullSearchResultRow {\n    tid\n    text\n    source\n    column\n  }\n"]);return E=function(){return e},e}var w=y()(E());function j(){var e=Object(g.a)(["\n  fragment TextSearchResultFrag on QuoteFullSearchResult {\n    quotes {\n      ...TextSearchRowFrag\n    }\n\n    sources {\n      ...TextSearchRowFrag\n    }\n\n    tags {\n      ...TextSearchRowFrag\n    }\n\n    authors {\n      ...TextSearchRowFrag\n    }\n\n    sourceTypes {\n      ...TextSearchRowFrag\n    }\n  }\n\n  ","\n"]);return j=function(){return e},e}var T=y()(j(),w),C=T;function R(){var e=Object(g.a)(["\n  query AllMatchingTexts($text: QuoteFullSearchInput!) {\n    quoteFullSearch(text: $text) {\n      ...TextSearchResultFrag\n    }\n  }\n\n  ","\n"]);return R=function(){return e},e}var k=y()(R(),C),N=n(27),F=n(340),L=n.n(F),B=n(341),H=n.n(B),I=n(37),q=n(377);L.a.setup(H()());var A={root:I.c,input:{margin:"0 5px"},mainContent:Object(N.a)({},q.a,{margin:"5px 3px 0 0"}),resultContainer:{margin:"0",overflowY:"auto",wordBreak:"break-all"},result:{marginTop:"15px;","&.first-of-type":{marginTop:"0;"},"& .ui.list>a.item":{color:"initial"}},resultRowHeaderContainer:{textAlign:"center"},resultRowHeader:{display:"inline-block",minWidth:"40%",boxShadow:"0 1px 1px -1px black;"},resultRowItem:Object(N.a)({},{borderTop:["none","!important;"]},{borderBottom:"1px solid #22242626",marginTop:8})},D=L.a.createStyleSheet(A).attach().classes,$=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?h.createElement(b.a,{error:!0,icon:!0,style:{marginTop:"20px"},className:this.props.className||""},h.createElement(x.a,{name:"ban"}),h.createElement(b.a.Content,null,h.createElement(b.a.Header,{style:{borderBottom:"1px solid",display:"inline-block",marginBottom:"10px"}},"An error has occurred"),h.createElement("div",null,JSON.stringify(this.state.info,null,2)))):this.props.children}}]),t}(h.Component),W=n(12),M={SOURCES:W.m,TAGS:W.n,QUOTES:W.l,AUTHORS:W.j},Q={searchText:"",searchLoading:!1},U=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state=Q,n.doSearchDebounced=void 0,n.onSearchInputChange=function(e,t){var a=t.value,r=n.state.result;r=a?r:void 0,n.setState({searchText:a,searchError:void 0,result:r}),n.doSearchDebounced()},n.doSearch=Object(c.a)(o.a.mark(function e(){var t,a,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.state.searchText.trim()).length<2)){e.next=3;break}return e.abrupt("return");case 3:return n.setState({searchLoading:!0}),e.prev=4,e.next=7,n.props.client.query({query:k,variables:{text:{text:t}}});case 7:if(a=e.sent,r=a.data){e.next=11;break}return e.abrupt("return");case 11:c=r.quoteFullSearch,n.setState({searchLoading:!1,result:c}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),n.setState({searchLoading:!1,searchError:e.t0});case 18:case"end":return e.stop()}},e,null,[[4,15]])})),n.renderResult=function(e){var t=e.quotes,a=e.tags,r=e.authors,o=e.sources,c=e.sourceTypes;return r||t||o||c||a?p.a.createElement("div",{className:D.resultContainer},[t,a,r,o,c].map(n.renderCategory)):p.a.createElement(b.a,{className:D.resultContainer,style:{textAlign:"center",padding:"10px"},icon:!0,warning:!0,size:"small"},p.a.createElement(x.a,{name:"warning",size:"tiny",fitted:!0,style:{fontSize:"2em"}}),p.a.createElement(b.a.Content,null,"No Result!"))},n.renderCategory=function(e){if(e){var t=e[0];if(t){var a=t.source;return p.a.createElement("div",{className:D.result,key:a},p.a.createElement("div",{className:D.resultRowHeaderContainer},p.a.createElement("span",{className:D.resultRowHeader},a)),p.a.createElement(v.a,{divided:!0},e.map(n.renderRow(a))))}}},n.renderRow=function(e){return function(t){if(t){var n=t.text,a=t.tid,r=t.column,o=M[e],c=o?{as:S.a,to:o(a.toString())}:{};return p.a.createElement(v.a.Item,Object.assign({key:a+r,className:D.resultRowItem},c),p.a.createElement(v.a.Content,null,n))}}},n.doSearchDebounced=Object(d.a)(n.doSearch,700),n}return Object(m.a)(t,e),Object(l.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.searchComponentState;return n&&t===Q?n:null}}]),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.props.updateSCSLocal({variables:{searchComponentState:this.state}}),this.doSearchDebounced.cancel()}},{key:"render",value:function(){return p.a.createElement("div",{className:D.root},p.a.createElement("form",null,p.a.createElement(f.a,{className:D.input,icon:"search",placeholder:"Search...",fluid:!0,autoFocus:!0,onChange:this.onSearchInputChange,value:this.state.searchText,loading:this.state.searchLoading})),p.a.createElement($,{className:D.mainContent},p.a.createElement("div",{className:D.mainContent},this.state.searchError&&p.a.createElement(b.a,{error:!0,icon:!0,style:{marginTop:"20px"}},p.a.createElement(x.a,{name:"ban"}),p.a.createElement(b.a.Content,null,p.a.createElement(b.a.Header,{style:{borderBottom:"1px solid",display:"inline-block",marginBottom:"10px"}},"An error has occurred"),p.a.createElement("div",null,JSON.stringify(this.state.searchError,null,2)))),!this.state.searchError&&this.state.searchText&&this.state.result&&this.renderResult(this.state.result))))}}]),t}(p.a.Component);function J(){var e=Object(g.a)(["\n  mutation SearchComponentStateLocalMutation(\n    $searchComponentState: SearchLocalInput!\n  ) {\n    searchComponentState(searchComponentState: $searchComponentState) @client\n  }\n"]);return J=function(){return e},e}var z=y()(J()),Y=Object(a.e)(z,{props:function(e){return{updateSCSLocal:e.mutate}}});function G(){var e=Object(g.a)(["\n  query SearchComponentStateLocalQuery {\n    searchComponentState @client {\n      searchText\n      searchLoading\n      result {\n        ...TextSearchResultFrag\n      }\n      searchError\n    }\n  }\n\n  ","\n"]);return G=function(){return e},e}var P=y()(G(),T),X=Object(a.e)(P,{props:function(e){return e.data}});t.a=Object(a.d)(a.f,X,Y)(U)},398:function(e,t,n){"use strict";var a=n(350),r=n(346),o=function(){return r.a.Date.now()},c=n(363),i=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,m=/^0o[0-7]+$/i,h=parseInt;var p=function(e){if("number"==typeof e)return e;if(Object(c.a)(e))return i;if(Object(a.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(a.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||m.test(e)?h(e.slice(2),n?2:8):u.test(e)?i:+e},d="Expected a function",f=Math.max,v=Math.min;t.a=function(e,t,n){var r,c,i,s,u,l,m=0,h=!1,b=!1,x=!0;if("function"!=typeof e)throw new TypeError(d);function S(t){var n=r,a=c;return r=c=void 0,m=t,s=e.apply(a,n)}function g(e){var n=e-l;return void 0===l||n>=t||n<0||b&&e-m>=i}function O(){var e=o();if(g(e))return y(e);u=setTimeout(O,function(e){var n=t-(e-l);return b?v(n,i-(e-m)):n}(e))}function y(e){return u=void 0,x&&r?S(e):(r=c=void 0,s)}function E(){var e=o(),n=g(e);if(r=arguments,c=this,l=e,n){if(void 0===u)return function(e){return m=e,u=setTimeout(O,t),h?S(e):s}(l);if(b)return u=setTimeout(O,t),S(l)}return void 0===u&&(u=setTimeout(O,t)),s}return t=p(t)||0,Object(a.a)(n)&&(h=!!n.leading,i=(b="maxWait"in n)?f(p(n.maxWait)||0,t):i,x="trailing"in n?!!n.trailing:x),E.cancel=function(){void 0!==u&&clearTimeout(u),m=0,r=l=c=u=void 0},E.flush=function(){return void 0===u?s:y(o())},E}},630:function(e,t,n){"use strict";n.r(t);var a=n(64),r=n(68),o=n(66),c=n(65),i=n(67),s=n(0),u=n(348),l=n(12),m=n(27),h=n(340),p=n.n(h),d=n(341),f=n.n(d),v=n(37),b=n(377);p.a.setup(f()());var x={root:v.c,input:{margin:"0 5px"},mainContent:Object(m.a)({},b.a,{margin:"5px 3px 0 0"}),resultContainer:{margin:"0",overflowY:"auto",wordBreak:"break-all"},result:{marginTop:"15px;","&.first-of-type":{marginTop:"0;"}},resultRowHeaderContainer:{textAlign:"center"},resultRowHeader:{display:"inline-block",minWidth:"40%",boxShadow:"0 1px 1px -1px black;"},resultRowItem:Object(m.a)({},{borderTop:["none","!important;"]},{borderBottom:"1px solid #22242626",marginTop:8})},S=p.a.createStyleSheet(x).attach().classes,g=n(397),O=n(354),y=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){Object(l.o)("Search all")}},{key:"componentWillUnmount",value:function(){Object(l.o)()}},{key:"render",value:function(){return s.createElement(O.a,null,s.createElement("div",{className:S.root},s.createElement(u.a,{title:"Search",showSideBarTrigger:!0}),s.createElement(g.a,null)))}}]),t}(s.Component);t.default=y}}]);
//# sourceMappingURL=./13.fd197692.chunk.js-ad6a76e565a5b69e99d2bd93c90b1455.map